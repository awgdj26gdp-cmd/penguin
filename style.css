:root{
  --bg: #bfe9d3;
  --ink: #2f3a4a;
  --cream: #f6f0d8;
  --button: #fff7e6;
  --shadow: rgba(47,58,74,.15);
}

*{ box-sizing: border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
  color: var(--ink);

  /* スマホ用をデフォルト */
  background: url("./bg-mobile.png") center bottom / cover no-repeat fixed;

  min-height: 100dvh;
  display:flex;
  justify-content:center;
  padding: clamp(12px, 2.4vh, 22px) 18px;
  overflow:hidden;
}

/* PC（横長）になったらPC用背景に切り替え */
@media (min-width: 768px){
  body{
    background-image: url("./bg-desktop.png");
  }
}


.app{
  width: min(520px, 92vw);

  display:grid;
  grid-template-rows: auto auto 1fr; /* タイマー/ボタン/猫 */
  gap: 16px;

  align-items:center;
  justify-items:center;

  /* ここで全体の縦の安定感を出す */
  min-height: calc(100dvh - 2 * clamp(12px, 2.4vh, 22px));
}

/* まるいタイマー */
.timerCircle{
  width: min(320px, 78vw);
  aspect-ratio: 1 / 1;
  background: var(--cream);
  border: 10px solid var(--ink);
  border-radius: 999px;
  display:grid;
  place-items:center;
  box-shadow: 0 10px 0 var(--shadow);
}

#time{
  font-size: clamp(52px, 12vw, 92px); /* ★少し大きく */
  font-weight: 800;
  letter-spacing: 1px;
  font-variant-numeric: tabular-nums;
}

/* ボタン */
.buttons{
  display:flex;
  gap: 12px;
  justify-content:center;
  align-items:center;
  flex-wrap: nowrap; /* ★折り返さない（横並び固定） */
}

button{
  min-width: 120px;
  padding: 12px 18px;
  font-size: 20px;
  font-weight: 800;
  color: var(--ink);
  background: var(--button);
  border: 8px solid var(--ink);
  border-radius: 14px;
  box-shadow: 0 8px 0 var(--shadow);
  cursor:pointer;
  text-transform: lowercase;
}

button:active{
  transform: translateY(2px);
  box-shadow: 0 6px 0 var(--shadow);
}

button:disabled{
  opacity: .55;
  cursor:not-allowed;
}

/* 猫エリア */
.petWrap{
  position: relative;   /* これ重要 */
}

#petMsg{
  position: absolute;
  top: -10px;           /* 猫の上に出す */
  left: 50%;
  transform: translateX(-50%);

  background: white;
  padding: 8px 14px;
  border-radius: 20px;
  border: 4px solid var(--ink);
  font-weight: 700;
  font-size: 16px;
  white-space: nowrap;

  box-shadow: 0 4px 0 var(--shadow);
}

#pet{
  width: min(320px, 70vw);
  max-width: 320px;
  aspect-ratio: 1 / 1;
  display:grid;
  place-items:center;
}


/* 猫（SVG）の基本 */
.petImg{
  width: 100%;
  height: 100%;
  object-fit: contain;
  transform-origin: 50% 90%;
  user-select: none;
  -webkit-user-drag: none;
  filter: drop-shadow(0 10px 0 rgba(47,58,74,.10));
}


/* 状態ごとのアニメ */
.is-idle .petImg{ animation: sway 2.2s ease-in-out infinite; }
.is-focus .petImg{ animation: bounce 0.85s ease-in-out infinite; }
.is-done .petImg{ animation: yay 1.2s ease-in-out infinite; }

@keyframes sway{
  0%,100%{ transform: rotate(-2deg) translateY(0); }
  50%{ transform: rotate(2deg) translateY(-2px); }
}
@keyframes bounce{
  0%,100%{ transform: translateY(0) scale(1); }
  50%{ transform: translateY(-10px) scale(1.02); }
}
@keyframes yay{
  0%,100%{ transform: translateY(0) rotate(0deg); }
  30%{ transform: translateY(-12px) rotate(-3deg); }
  60%{ transform: translateY(-12px) rotate(3deg); }
}

/* 動き苦手な人向け */
@media (prefers-reduced-motion: reduce){
  .petImg{ animation: none !important; }
}

@media (max-width: 420px){
  .buttons{
    gap: 8px;
  }
  button{
    min-width: 0;
    width: 30vw;
    max-width: 140px;
    padding: 10px 10px;
    font-size: 18px;
    border: 7px solid var(--ink);
  }
}
